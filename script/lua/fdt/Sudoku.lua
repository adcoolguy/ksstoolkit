
grid={}
grid_difficulty={}
grid_value={}


-------------------------------------------------------------
-- EASY GRIDS
-------------------------------------------------------------
grid_difficulty[1]="Easy"
grid[1]={"020000000",
"100309200",
"360025010",
"008007100",
"205000060",
"040003005",
"603800000",
"000000800",
"000070406"
}
grid_difficulty[2]="Easy"
grid[2]={"000064003",
"000120400",
"100000008",
"690000085",
"081300000",
"040000060",
"068000009",
"230080000",
"000037000"
}
grid_difficulty[3]="Easy"
grid[3]={"000806900",
"000090000",
"000000600",
"001000007",
"003079005",
"020350000",
"000645001",
"000000300",
"967000200"
}
grid_difficulty[4]="Easy"
grid[4]={"000806900",
"000090000",
"000000600",
"001000007",
"003079005",
"020350000",
"000645001",
"000000300",
"967000200"
}
grid_difficulty[5]="Easy"
grid[5]={"000000006",
"806020000",
"025040010",
"500080000",
"007000908",
"000160024",
"401000000",
"000500300",
"060900000"
}
grid_difficulty[6]="Easy"
grid[6]={"000000000",
"713004008",
"048032570",
"004000000",
"100008400",
"000071030",
"000090023",
"000000000",
"031805009"
}
grid_difficulty[7]="Easy"
grid[7]={"000030006",
"070000083",
"008007090",
"190070005",
"420000000",
"060020701",
"000608000",
"200000600",
"000510000"
}
grid_difficulty[8]="Easy"
grid[8]={"300000700",
"089004000",
"000080205",
"024100080",
"000070000",
"790002000",
"000001670",
"800007004",
"460900000"
}
grid_difficulty[9]="Easy"
grid[9]={"003000007",
"006700090",
"002950000",
"000000030",
"800005010",
"000040605",
"040000000",
"050310020",
"078004009"
}
grid_difficulty[10]="Easy"
grid[10]={"080001076",
"050060001",
"000900080",
"000003100",
"068000004",
"000004297",
"701500000",
"000000000",
"605700003"
}
grid_difficulty[11]="Easy"
grid[11]={"000054000",
"050001703",
"040000089",
"000000001",
"901308000",
"000060000",
"006030000",
"080006490",
"004000100"
}
grid_difficulty[12]="Easy"
grid[12]={"005804000",
"060003050",
"007010860",
"200600300",
"640008100",
"000000090",
"050020409",
"000070001",
"000000000"
}
grid_difficulty[13]="Easy"
grid[13]={"570020600",
"804000090",
"300000000",
"000009053",
"602007001",
"000000200",
"000000709",
"100000520",
"008901000"
}
grid_difficulty[14]="Easy"
grid[14]={"008002060",
"000070300",
"000000290",
"300006900",
"007500000",
"000000084",
"475300000",
"026090400",
"900000750"
}
grid_difficulty[15]="Easy"
grid[15]={"048200009",
"000096040",
"007003000",
"030082706",
"002009300",
"100000000",
"000000000",
"020007008",
"009001502"
}
grid_difficulty[16]="Easy"
grid[16]={"002000000",
"400000070",
"970008010",
"700001040",
"000200708",
"030060000",
"080010000",
"003057000",
"090630501"
}
grid_difficulty[17]="Easy"
grid[17]={"790000024",
"003000000",
"000070160",
"009000400",
"080003002",
"010000308",
"527080000",
"000205000",
"006030001"
}
grid_difficulty[18]="Easy"
grid[18]={"013000000",
"500004000",
"407050030",
"100000400",
"000070028",
"024803100",
"900000500",
"041009000",
"600007040"
}
grid_difficulty[19]="Easy"
grid[19]={"072000000",
"830109000",
"004752000",
"010300000",
"000007050",
"045000090",
"000030000",
"009001507",
"200000306"
}
grid_difficulty[20]="Easy"
grid[20]={"089000326",
"002000090",
"405000700",
"000070000",
"030600200",
"040200000",
"008002470",
"590006000",
"000040908"
}
grid_difficulty[21]="Easy"
grid[21]={"502470003",
"090001000",
"000002010",
"200000000",
"400003760",
"000900040",
"050008007",
"904050006",
"100000030"
}
grid_difficulty[22]="Easy"
grid[22]={"500000000",
"600000038",
"809000200",
"000920000",
"001003900",
"070508003",
"000600720",
"000007000",
"008004609"
}
grid_difficulty[23]="Easy"
grid[23]={"000004001",
"250010000",
"003000002",
"107000389",
"380000020",
"000060010",
"000096800",
"700540000",
"090001070"
}
grid_difficulty[24]="Easy"
grid[24]={"080000004",
"000900080",
"200750100",
"000030200",
"504076000",
"320005000",
"030000800",
"000001600",
"079020000"
}
grid_difficulty[25]="Easy"
grid[25]={"000004005",
"070082064",
"004006200",
"000400000",
"509100008",
"000200170",
"040000800",
"700000900",
"008009020"
}
grid_difficulty[26]="Easy"
grid[26]={"003000045",
"045300000",
"018040020",
"000600030",
"300908100",
"000002800",
"000000006",
"000020050",
"006573080"
}
grid_difficulty[27]="Easy"
grid[27]={"000508000",
"070600021",
"006020090",
"052010600",
"000004070",
"100000000",
"063000040",
"000090200",
"000075009"
}
grid_difficulty[28]="Easy"
grid[28]={"000100090",
"090800000",
"003002800",
"800600209",
"020000006",
"000207108",
"385040000",
"000000057",
"000360000"
}
grid_difficulty[29]="Easy"
grid[29]={"000700000",
"100250603",
"300000082",
"030045006",
"000630000",
"000900200",
"054000100",
"008074000",
"000500700"
}
grid_difficulty[30]="Easy"
grid[30]={"030607000",
"010008026",
"508003900",
"009070040",
"000040080",
"000901005",
"600509008",
"000000000",
"000060200"
}
grid_difficulty[31]="Easy"
grid[31]={"090700000",
"000005000",
"080040000",
"040280590",
"000030070",
"000500008",
"001003950",
"050800700",
"600009400"
}
grid_difficulty[32]="Easy"
grid[32]={"050009720",
"600004009",
"000800001",
"523000000",
"000415000",
"040000000",
"790300000",
"008600005",
"030007000"
}
grid_difficulty[33]="Easy"
grid[33]={"000050030",
"078000004",
"000603000",
"452007900",
"000000050",
"001002006",
"000000608",
"027900000",
"009800010"
}
grid_difficulty[34]="Easy"
grid[34]={"003020090",
"710004000",
"000000750",
"108000000",
"500800000",
"070460802",
"800006307",
"000003000",
"000540000"
}
grid_difficulty[35]="Easy"
grid[35]={"040300871",
"900050000",
"000008000",
"000700600",
"080503010",
"004002000",
"003407000",
"010000046",
"007860000"
}
grid_difficulty[36]="Easy"
grid[36]={"100067000",
"005000090",
"060004700",
"000000504",
"000295008",
"000100000",
"400000100",
"927000006",
"000502040"
}
grid_difficulty[37]="Easy"
grid[37]={"270000000",
"510806000",
"000120060",
"000000000",
"840052900",
"000300008",
"720508001",
"000000030",
"900070002"
}
grid_difficulty[38]="Easy"
grid[38]={"004000000",
"060002000",
"300086002",
"000000015",
"800005400",
"040090006",
"001700000",
"508029061",
"070508200"
}
grid_difficulty[39]="Easy"
grid[39]={"600700008",
"830052100",
"000003509",
"020000000",
"000000000",
"000426080",
"010040000",
"200005090",
"790230040"
}
grid_difficulty[40]="Easy"
grid[40]={"000000400",
"000500760",
"207000090",
"030070020",
"000396000",
"800005900",
"400000070",
"000860039",
"020030800"
}
grid_difficulty[41]="Easy"
grid[41]={"000680003",
"500000000",
"100070200",
"090810500",
"080900070",
"050420000",
"000060087",
"000204600",
"006000090"
}
grid_difficulty[42]="Easy"
grid[42]={"000090030",
"000040070",
"000206009",
"002074090",
"070108300",
"500000000",
"006500000",
"000780000",
"951000800"
}
grid_difficulty[43]="Easy"
grid[43]={"049000000",
"620000093",
"000010500",
"090000302",
"250604000",
"000000470",
"002000108",
"738000000",
"000900000"
}
grid_difficulty[44]="Easy"
grid[44]={"100000000",
"003905000",
"090000280",
"001000500",
"570002600",
"000050032",
"608100009",
"700000415",
"000000000"
}
grid_difficulty[45]="Easy"
grid[45]={"000000078",
"000027000",
"004390000",
"900203000",
"401900800",
"080000300",
"040000100",
"100570009",
"060100082"
}
grid_difficulty[46]="Easy"
grid[46]={"007200040",
"000010097",
"800003000",
"003008570",
"000000080",
"100300000",
"000007000",
"030620001",
"900000820"
}
grid_difficulty[47]="Easy"
grid[47]={"010007000",
"000040001",
"000908004",
"340061020",
"000003040",
"090000700",
"900800005",
"007004009",
"800020030"
}
grid_difficulty[48]="Easy"
grid[48]={"000002001",
"047000000",
"050604000",
"009068000",
"620090300",
"000000000",
"000106058",
"000000070",
"108509006"
}
grid_difficulty[49]="Easy"
grid[49]={"500009000",
"008600000",
"900010350",
"300008100",
"090000200",
"007001060",
"000000007",
"050800020",
"041500090"
}
grid_difficulty[50]="Easy"
grid[50]={"520089000",
"090200700",
"080000000",
"000040000",
"004060017",
"000050208",
"100300900",
"000014020",
"800000070"
}

-------------------------------------------------------------
-- MEDIUM GRIDS
-------------------------------------------------------------
grid_difficulty[51]="Medium"
grid[51]={"000098000",
"082000760",
"690000030",
"000007005",
"200009070",
"504100002",
"109000503",
"050000006",
"000020100"
}
grid_difficulty[52]="Medium"
grid[52]={"019430500",
"700006010",
"005000200",
"200003000",
"304109000",
"090000000",
"007004063",
"000060009",
"000800750"
}

grid_difficulty[53]="Medium"
grid[53]={"070000010",
"008130200",
"000507600",
"004001009",
"790080000",
"000700060",
"940000100",
"003000005",
"500093000"
}

grid_difficulty[54]="Medium"
grid[54]={"000000000",
"005010092",
"283000060",
"000000008",
"102040000",
"600370001",
"800006040",
"000004005",
"040705010"
}
grid_difficulty[55]="Medium"
grid[55]={"100002309",
"000600000",
"000090012",
"008700920",
"000001000",
"200040000",
"906000078",
"400000000",
"007085040"
}
grid_difficulty[56]="Medium"
grid[56]={"000850100",
"300400080",
"000000090",
"900030000",
"050070003",
"000021475",
"030000001",
"020007004",
"010000000"
}
grid_difficulty[57]="Medium"
grid[57]={"400200000",
"500006900",
"006300004",
"000003007",
"000500036",
"020000400",
"007830000",
"061000000",
"005079080"
}
grid_difficulty[58]="Medium"
grid[58]={"007000000",
"020108006",
"506000430",
"000000000",
"000809210",
"063700008",
"000000000",
"050000300",
"200045090"
}
grid_difficulty[59]="Medium"
grid[59]={"002000008",
"560001007",
"003928000",
"035010046",
"407300010",
"001000000",
"000000082",
"000009100",
"000007000"
}
grid_difficulty[60]="Medium"
grid[60]={"520000000",
"900006008",
"000300900",
"046800103",
"050100400",
"000460200",
"008030095",
"000000000",
"230001000"
}
grid_difficulty[61]="Medium"
grid[61]={"000000084",
"900000001",
"002030900",
"000000000",
"000010850",
"040758102",
"000000060",
"807004000",
"010206408"
}
grid_difficulty[62]="Medium"
grid[62]={"048000002",
"070000509",
"020700600",
"000020005",
"030540000",
"000106000",
"090000000",
"003057004",
"000084023"
}
grid_difficulty[63]="Medium"
grid[63]={"015200000",
"000740000",
"000001008",
"401006390",
"002090010",
"900400020",
"009570030",
"070000900",
"000003000"
}
grid_difficulty[64]="Medium"
grid[64]={"000004500",
"000080010",
"009600000",
"100090640",
"007003020",
"082010003",
"500002004",
"030050000",
"000000900"
}
grid_difficulty[65]="Medium"
grid[65]={"000000000",
"201000670",
"009600810",
"007401000",
"000000000",
"620870000",
"803050000",
"405003001",
"700000400"
}
grid_difficulty[66]="Medium"
grid[66]={"053000100",
"700002080",
"200040003",
"004000000",
"300500000",
"080000050",
"400008020",
"000000790",
"609370500"
}
grid_difficulty[67]="Medium"
grid[67]={"040870050",
"900000080",
"102000400",
"006080000",
"005000028",
"008705010",
"000030601",
"030000004",
"000020000"
}
grid_difficulty[68]="Medium"
grid[68]={"017000000",
"300008901",
"400000038",
"000000619",
"950064000",
"000000050",
"000000300",
"060370000",
"170940006"
}
grid_difficulty[69]="Medium"
grid[69]={"000007009",
"000016000",
"405000700",
"000000000",
"007049080",
"210500000",
"003200470",
"070080300",
"050300010"
}
grid_difficulty[70]="Medium"
grid[70]={"000005000",
"900000048",
"057000063",
"000001800",
"078020001",
"509074000",
"005107004",
"000043250",
"000000000"
}
grid_difficulty[71]="Medium"
grid[71]={"070908030",
"003710000",
"406000900",
"002070000",
"900060204",
"001000008",
"000000050",
"050003001",
"709000000"
}
grid_difficulty[72]="Medium"
grid[72]={"008070050",
"000000006",
"007004000",
"000090000",
"762000010",
"100000500",
"080510900",
"200800100",
"006402800"
}
grid_difficulty[73]="Medium"
grid[73]={"500000403",
"000020000",
"902467000",
"260019300",
"000800010",
"000000008",
"109030000",
"800000006",
"000080150"
}
grid_difficulty[74]="Medium"
grid[74]={"006000007",
"020300018",
"080007300",
"050000000",
"000158400",
"000260000",
"030014290",
"040000000",
"008000100"
}
grid_difficulty[75]="Medium"
grid[75]={"700150000",
"060300007",
"004200060",
"470000620",
"000000930",
"001030000",
"002709800",
"905000700",
"000020300"
}
grid_difficulty[76]="Medium"
grid[76]={"000083000",
"500040001",
"908500070",
"056000002",
"092008030",
"100000000",
"800007020",
"065002000",
"040001007"
}
grid_difficulty[77]="Medium"
grid[77]={"003100096",
"090006000",
"207930000",
"000001340",
"000200700",
"000403000",
"008000021",
"300004800",
"050000600"
}
grid_difficulty[78]="Medium"
grid[78]={"000010500",
"080509007",
"400006010",
"013002000",
"500700004",
"000008000",
"000800700",
"004920050",
"901000400"
}
grid_difficulty[79]="Medium"
grid[79]={"000010900",
"024000050",
"601054000",
"000200060",
"000003100",
"009000800",
"000000609",
"080060027",
"702009000"
}
grid_difficulty[80]="Medium"
grid[80]={"060000000",
"000080207",
"080694000",
"009700002",
"000000008",
"003040010",
"400300009",
"000970000",
"305000100"
}
grid_difficulty[81]="Medium"
grid[81]={"080000200",
"150800007",
"006007000",
"400360070",
"009000002",
"000070438",
"300005004",
"000600000",
"690000010"
}
grid_difficulty[82]="Medium"
grid[82]={"500070190",
"600540008",
"002003040",
"000200006",
"406700300",
"000000000",
"720000010",
"030090000",
"000005004"
}
grid_difficulty[83]="Medium"
grid[83]={"001700000",
"240005000",
"700090006",
"000600100",
"800450009",
"020803000",
"000960004",
"000004792",
"000000031"
}
grid_difficulty[84]="Medium"
grid[84]={"000204053",
"000090000",
"805300000",
"410050000",
"000009060",
"023000000",
"087000004",
"600080002",
"000003100"
}
grid_difficulty[85]="Medium"
grid[85]={"007003000",
"003074080",
"000080720",
"000040002",
"040007000",
"600150400",
"200000508",
"005090210",
"801000090"
}
grid_difficulty[86]="Medium"
grid[86]={"000900003",
"760300005",
"090106000",
"000000002",
"900002430",
"000780900",
"610003800",
"000007000",
"008004060"
}
grid_difficulty[87]="Medium"
grid[87]={"900000487",
"160000000",
"000080020",
"000009700",
"009308050",
"000670000",
"003002000",
"056800000",
"020000590"
}
grid_difficulty[88]="Medium"
grid[88]={"900000302",
"085301904",
"000004080",
"010005400",
"007402003",
"003000000",
"020500800",
"001620000",
"000007000"
}
grid_difficulty[89]="Medium"
grid[89]={"001030000",
"207510000",
"540600000",
"400000006",
"092040050",
"000920000",
"080003000",
"000800370",
"000050092"
}
grid_difficulty[90]="Medium"
grid[90]={"409105060",
"003000090",
"100800000",
"000000040",
"940000708",
"060020000",
"000400000",
"020700184",
"800000005"
}
grid_difficulty[91]="Medium"
grid[91]={"060000000",
"000319200",
"010006879",
"800020060",
"006000020",
"000070000",
"080000300",
"000050007",
"790800001"
}
grid_difficulty[92]="Medium"
grid[92]={"400102030",
"000000000",
"790063000",
"070020000",
"000810060",
"001000500",
"910007320",
"040009800",
"600000400"
}
grid_difficulty[93]="Medium"
grid[93]={"000000031",
"000270005",
"002000060",
"034750000",
"010860000",
"700004090",
"005080040",
"600005070",
"307000000"
}
grid_difficulty[94]="Medium"
grid[94]={"030086000",
"605000000",
"081070305",
"002050010",
"000009050",
"000000874",
"300010907",
"010004000",
"000000040"
}
grid_difficulty[95]="Medium"
grid[95]={"000005300",
"008200000",
"007030420",
"400060000",
"070900140",
"000310800",
"060590000",
"000000093",
"100003060"
}
grid_difficulty[96]="Medium"
grid[96]={"000009800",
"030008905",
"200000000",
"345200600",
"000900040",
"100030000",
"470800010",
"003160700",
"000050090"
}
grid_difficulty[97]="Medium"
grid[97]={"090003608",
"060840091",
"700090000",
"400700860",
"008000004",
"000050003",
"500036000",
"002000500",
"007000000"
}
grid_difficulty[98]="Medium"
grid[98]={"000600005",
"640000028",
"037000000",
"010058007",
"050030804",
"008700509",
"000206400",
"100000000",
"002007006"
}
grid_difficulty[99]="Medium"
grid[99]={"004156000",
"000040805",
"000090000",
"800001600",
"400000190",
"001700000",
"509000340",
"627000000",
"000000506"
}
grid_difficulty[100]="Medium"
grid[100]={"000004800",
"500008700",
"004100020",
"090050000",
"080000469",
"200007030",
"000532080",
"000000006",
"010000000"
}


-------------------------------------------------------------
-- HARD GRIDS
-------------------------------------------------------------

grid_difficulty[101]="Hard"
grid[101]={"070000010",
"008130200",
"000507600",
"004001009",
"790080000",
"000700060",
"940000100",
"003000005",
"500093000"
}
grid_difficulty[102]="Hard"
grid[102]={"800000006",
"050900000",
"062080010",
"010300060",
"000000200",
"005008000",
"090007000",
"600010035",
"530000789"
}
grid_difficulty[103]="Hard"
grid[103]={"003000017",
"006920000",
"000080000",
"800100009",
"050200040",
"040050001",
"200800100",
"005000030",
"000600020"
}
grid_difficulty[104]="Hard"
grid[104]={"000037000",
"830046000",
"001980000",
"053000000",
"240500039",
"080000104",
"000000480",
"600090002",
"300000070"
}
grid_difficulty[105]="Hard"
grid[105]={"000030001",
"700645000",
"056900000",
"200004060",
"000000010",
"040001900",
"600000000",
"078000030",
"003087000"
}
grid_difficulty[106]="Hard"
grid[106]={"400000000",
"930000540",
"008006009",
"000860005",
"002000000",
"010009320",
"050001067",
"109000000",
"000605200"
}
grid_difficulty[107]="Hard"
grid[107]={"040005200",
"030010040",
"000006007",
"000001025",
"580000100",
"000050600",
"006000000",
"800037090",
"007800300"
}
grid_difficulty[108]="Hard"
grid[108]={"204008000",
"000000000",
"030000180",
"005000000",
"000540321",
"000010600",
"070400000",
"408900000",
"060200013"
}
grid_difficulty[109]="Hard"
grid[109]={"000007000",
"000040870",
"000000006",
"100050020",
"000002600",
"703100900",
"067800010",
"008906003",
"002001000"
}
grid_difficulty[110]="Hard"
grid[110]={"009008000",
"000300001",
"460050000",
"008005003",
"600000120",
"000900680",
"700080000",
"100409062",
"000000400"
}
grid_difficulty[111]="Hard"
grid[111]={"000006000",
"700000004",
"009750800",
"900060700",
"200000905",
"835000040",
"003200007",
"000004030",
"000100062"
}
grid_difficulty[112]="Hard"
grid[112]={"000050009",
"670030800",
"000007000",
"007000000",
"050000961",
"960004000",
"080010030",
"003075000",
"100000040"
}
grid_difficulty[113]="Hard"
grid[113]={"002001000",
"010900000",
"580000007",
"090825004",
"600430800",
"050000030",
"400000060",
"000300050",
"000050002"
}
grid_difficulty[114]="Hard"
grid[114]={"406010020",
"030000050",
"090700081",
"560000000",
"000200508",
"008000030",
"300000000",
"009005013",
"000120400"
}
grid_difficulty[115]="Hard"
grid[115]={"600000000",
"000000209",
"003700080",
"050029017",
"400000000",
"000500030",
"010046002",
"002050000",
"008900070"
}
grid_difficulty[116]="Hard"
grid[116]={"060000100",
"000200070",
"900108024",
"070005600",
"000300500",
"009400003",
"280000000",
"300700000",
"000001000"
}
grid_difficulty[117]="Hard"
grid[117]={"020000501",
"700000080",
"036000007",
"012800000",
"000064002",
"400009000",
"041058020",
"090006003",
"000200800"
}
grid_difficulty[118]="Hard"
grid[118]={"507000026",
"420305000",
"000100000",
"900007100",
"080200003",
"002000450",
"000000000",
"008060009",
"700040600"
}
grid_difficulty[119]="Hard"
grid[119]={"500030000",
"092000630",
"000000908",
"040090320",
"701020000",
"000073800",
"007000200",
"016000000",
"000008409"
}
grid_difficulty[120]="Hard"
grid[120]={"020000000",
"007000040",
"009053067",
"004080030",
"000207008",
"600004001",
"005000000",
"016308004",
"700040180"
}
grid_difficulty[121]="Hard"
grid[121]={"010600002",
"004003000",
"008070000",
"000180300",
"301000570",
"000000000",
"420700150",
"050000040",
"007530090"
}
grid_difficulty[122]="Hard"
grid[122]={"005036017",
"870000020",
"000000300",
"082070000",
"030900074",
"000000001",
"250060030",
"007010400",
"060000002"
}
grid_difficulty[123]="Hard"
grid[123]={"000705020",
"008230000",
"000000400",
"000010980",
"000450103",
"087000004",
"002900705",
"094006000",
"001003000"
}
grid_difficulty[124]="Hard"
grid[124]={"025000090",
"470006000",
"300528000",
"000010900",
"700000040",
"006480700",
"010000070",
"000100005",
"050003800"
}
grid_difficulty[125]="Hard"
grid[125]={"400500830",
"070006900",
"000000001",
"000009000",
"060080700",
"030200000",
"108042000",
"000000104",
"200070060"
}
grid_difficulty[126]="Hard"
grid[126]={"000105239",
"000000005",
"002000100",
"000001000",
"004000508",
"007302000",
"300504002",
"051080060",
"080000007"
}
grid_difficulty[127]="Hard"
grid[127]={"060300000",
"000000038",
"900000070",
"007800350",
"000109000",
"080760000",
"004050010",
"200000007",
"050003409"
}
grid_difficulty[128]="Hard"
grid[128]={"040000020",
"000041708",
"090000000",
"200030000",
"000400150",
"480900000",
"005180002",
"900070001",
"000009805"
}
grid_difficulty[129]="Hard"
grid[129]={"090002010",
"000010507",
"070000004",
"048009000",
"600004300",
"000028001",
"500000400",
"000005083",
"030040060"
}
grid_difficulty[130]="Hard"
grid[130]={"000000003",
"080600020",
"705000001",
"000250006",
"400907012",
"000300070",
"006000000",
"014000060",
"500001007"
}
grid_difficulty[131]="Hard"
grid[131]={"000060200",
"007300000",
"050800630",
"000186000",
"400000000",
"000000801",
"003000070",
"040007506",
"008009004"
}
grid_difficulty[132]="Hard"
grid[132]={"400005300",
"006030090",
"200000080",
"000010060",
"000070002",
"004520001",
"090040003",
"705008000",
"001700000"
}
grid_difficulty[133]="Hard"
grid[133]={"098020010",
"006001002",
"200000409",
"000300008",
"104000300",
"003490160",
"050000080",
"647000000",
"001630000"
}
grid_difficulty[134]="Hard"
grid[134]={"000000007",
"000004605",
"002150000",
"536000000",
"800017000",
"900000004",
"005080030",
"000071020",
"001002400"
}
grid_difficulty[135]="Hard"
grid[135]={"600000080",
"004090005",
"000300007",
"002000006",
"000020403",
"700500020",
"006001009",
"450000000",
"018062000"
}
grid_difficulty[136]="Hard"
grid[136]={"069000020",
"050037000",
"008040001",
"040000070",
"007003009",
"000060000",
"000090060",
"004520010",
"902000054"
}
grid_difficulty[137]="Hard"
grid[137]={"520000003",
"000008100",
"090170000",
"009500060",
"005090002",
"080000000",
"060040200",
"970010580",
"002307000"
}
grid_difficulty[138]="Hard"
grid[138]={"780500000",
"000402050",
"000910700",
"030000002",
"500000040",
"810000300",
"009000600",
"000800400",
"020003001"
}
grid_difficulty[139]="Hard"
grid[139]={"000800160",
"000410000",
"000002300",
"000060020",
"002007000",
"643000007",
"010000050",
"260900070",
"000070830"
}
grid_difficulty[140]="Hard"
grid[140]={"120000000",
"308000001",
"000000600",
"001700400",
"070403050",
"000020096",
"050006034",
"000900060",
"003004009"
}
grid_difficulty[141]="Hard"
grid[141]={"000400700",
"300080006",
"100002030",
"003020050",
"090603000",
"000070090",
"006004003",
"201006407",
"400000100"
}
grid_difficulty[142]="Hard"
grid[142]={"950004000",
"000000103",
"600000040",
"700000002",
"002400009",
"803700000",
"100007090",
"008160700",
"000000006"
}
grid_difficulty[143]="Hard"
grid[143]={"093005000",
"040700000",
"020069001",
"900000100",
"004600080",
"200000056",
"870000003",
"000470009",
"005003060"
}
grid_difficulty[144]="Hard"
grid[144]={"870090006",
"100200000",
"093070020",
"400700052",
"000000060",
"020003078",
"000010000",
"000060307",
"048000000"
}
grid_difficulty[145]="Hard"
grid[145]={"900034078",
"600010200",
"000009000",
"002000150",
"080005040",
"040000800",
"050900000",
"700008004",
"000000060"
}
grid_difficulty[146]="Hard"
grid[146]={"000010006",
"040600000",
"000000200",
"700300460",
"900005001",
"280040000",
"170004020",
"000080605",
"002000130"
}
grid_difficulty[147]="Hard"
grid[147]={"102095000",
"500070000",
"040000000",
"001800000",
"020600809",
"007000250",
"090080460",
"708000000",
"060000003"
}
grid_difficulty[148]="Hard"
grid[148]={"000320008",
"000000900",
"010000050",
"006090000",
"070005600",
"052008001",
"863500000",
"004600070",
"000000020"
}
grid_difficulty[149]="Hard"
grid[149]={"000050069",
"700004050",
"000900002",
"090500070",
"000030004",
"100040000",
"005060007",
"020001600",
"008020400"
}
grid_difficulty[150]="Hard"
grid[150]={"450000000",
"071005000",
"002400800",
"900000020",
"100000008",
"300690001",
"090070040",
"000002500",
"000800003"
}


grid_difficulty[199]="Easy"
grid[199]={
"130567048",
"540389017",
"970241035",
"260918053",
"710632094",
"380475026",
"850123069",
"690754082",
"420896071"
}

grid_difficulty[200]="Easy"
grid[200]={
"132567948",
"546389217",
"978241635",
"264918753",
"715632894",
"389475126",
"857123469",
"691754382",
"423896571"
}
--dofile("sudukogrids.lua")

-- Basic framework for the Suduko game 

GAME_APPID = 1001

MESSAGE_EXIT = 9
MESSAGE_STOP = 11

LLSM_HIDEWINDOW = 5
LLSM_SHOWWINDOW = 6

HG_ERR_NONE = 0
HG_ERR_FAILED = -1

-- Global constants
SQUARE_WIDTH = 26
SQUARE_HEIGHT = 26

GAME_XPOS = 65
GAME_YPOS = 82
GAME_WIDTH = 360
GAME_HEIGHT = 270

GRID_X_OFFSET = 55
GRID_Y_OFFSET = 10

OPTIONS_X_OFFSET = 200
OPTIONS_Y1_OFFSET = 100
OPTIONS_Y2_OFFSET = 130
OPTIONS_Y3_OFFSET = 160
OPTIONS_Y4_OFFSET = 190
OPTIONS_Y5_OFFSET = 220

TEXT_X_OFFSET = 425
TEXT_Y_OFFSET = 232
TEXT_WIDTH = 220
TEXT_HEIGHT = 120

GREEN_SQUARE = 14230
ORANGE_SQUARE = 14231
YELLOW_SQUARE = 14232
BLUE_SQUARE = 14264

-- Images
PAUSE_IMAGE = 53009

g_bConflictFlag =0
	
-- Global Variables
g_bkgGraphicsPlane = 0
g_wndNumbersPlane = 0
g_wndOrangeSquare = 0
g_wndTextArea = 0;

g_wbkgAttributes = 0;
g_wNumbersAttributes = 0;
g_wselAttributes = 0;
g_wTextAttributeID = 0;

-- Saleem for HUD
g_bkgHUDAttributes = 0;
g_wndHUDPlane = 0;

g_GameTimerID = 0
g_ElapsedTime = 0

g_nCurScreen = 0;

g_stCurPos = {}
g_stCurPos.row = 1
g_stCurPos.col = 1

g_nStartScreen = 1
g_nLevelScreen = 1


g_gridSystem = {}
g_gridUser = {}

g_gridLoaded = 0
g_IsGameOn = 0

g_exitListBox = 0  -- 0: None. 1: "Try Again" Highlighted 2: "Exit to Menu" Highlighted
g_instructionOn = 0 -- 0: No instruction. 1: Instrcution showing

-------------------------------------------------------------------------
-- This function is called to Draw the Common Game Display - Saleem
-------------------------------------------------------------------------
function DrawHudImages()

    nErr,g_bkgHUDAttributes = Graphics.CreateWindowAttrib()
    nErr,g_wndHUDPlane = Graphics.CreateWindow(5, g_bkgHUDAttributes, 0, 0, 0, 704, 480) 
    
    debugPrint('g_wndHUDPlane : ' .. tostring(g_wndHUDPlane))
    
    debugPrint('Before Draw Image - Saleem')
    
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53000, 0, 0, 65, 480, 0) 
	
	--nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53006, 0, 0, 59, 480, 0) 
	
	--nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53004, 65, 78, 580, 4, 0) 
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53005, 425, 232, 220, 120, 0) 
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53001, 51, 0, 14, 85, 0) 
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53002, 65, 0, 580, 85, 0) 
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53003, 645, 0, 14, 85, 0) 
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 12082, 42, 27, 15, 76, 0) 
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 14263, 66, 27, 350, 48, 0)
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 12080, 497, 27, 122, 35, 0)
	
	debugPrint('Graphics.DrawImageByID Returns : ' .. tostring(nErr) )
	
	--nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 14301, 427, 82, 220, 150, 0)
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53080, 65, 351, 211, 129, 0)
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53082, 466, 351, 178, 129, 0)
	
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53081, 276, 351, 192, 129, 0)
	
		
	nErr = Graphics.DrawImageExByID(g_bkgHUDAttributes, g_wndHUDPlane, 53168, 239, 363, 234, 60, 0)
	
	debugPrint('Graphics.DrawImageByID Returns : ' .. tostring(nErr) )
	
	return 0
end


-------------------------------------------------------------------------
-- This function is called from Mercury when the Lua script is loaded
-- only if the function has been defined in the Lua script. This is an
-- opportunity to do any initialization or for Requesting Mercury for any
-- resources that the script might use.
-------------------------------------------------------------------------

function lua_onInit(nAppId, strParam)
  debugPrint('lua_onInit invoked - Anshu')
  
  -- Initialize global variables
  g_nCurScreen = 0
  g_GameTimerID = 0
  g_ElapsedTime = 0
  g_nStartScreen = 1
  g_nLevelScreen = 1
  g_gridLoaded = 0

  nErr = Graphics.InitWindowAttributes()
  --hg_setExitPrompt(1)  --set showprompt to true
  
  return 0
end


function lua_onLoad()
  debugPrint('lua_onLoad invoked')
 
  -- Verify that the platform is supported - if not then show a message and quit  
  --nPlatformID = hg_getPlatFormId()
  debugPrint('Platform ID for the Box is:' .. tostring(nPlatformID))

  --if(nPlatformID == 208 or nPlatformID == 209) then   -- not supported on 2500 P1 and P2
    
  --  nReturn = hg_showPrompt('Verizon: Sudoku', 'Sudoku game is not supported on 2500 P1 and P2 boxes.', 30, 'OK', 1)
  -- ExitGame()
  --  return 2
  --end
  
  -- Show the splash screen
  --hg_showSplashWindow("Loading Sudoku Game.")
  
  -- Initialize the variables and fetch the graphics from the server
  --nErr = hg_getInitBitmapList('53009,14264,14233,14234,14235,14236,14237,14238,14239,14240,14241,14242,14243,14244,14245,14246,14247,14248,53216,53217,53218,53219,14220, 14221, 14222, 14223, 14224, 14225, 14226, 14227, 14228, 14229, 14230, 14231, 14232', 35)
  
  nErr = Graphics.GetBitmapList('53009, 14264, 14233,14234,14235,14236,14237,14238,14239,14240,14241,14242', 0 )
  nErr = Graphics.GetBitmapList('14245', 0)
  nErr = Graphics.GetBitmapList('14246', 0)
  nErr = Graphics.GetBitmapList('14247', 0)
  nErr = Graphics.GetBitmapList('14248', 0)
  nErr = Graphics.GetBitmapList('53216', 0)
  nErr = Graphics.GetBitmapList('53217', 0)
  nErr = Graphics.GetBitmapList('53218', 0)
  nErr = Graphics.GetBitmapList('53219', 0)
  nErr = Graphics.GetBitmapList('14220, 14221, 14222,14223, 14224, 14225, 14226, 14227, 14228', 0)
  nErr = Graphics.GetBitmapList('14229, 14230, 14231, 14232', 0)
  nErr = Graphics.GetBitmapList('53000, 53001, 53002, 53003, 53004, 53005, 53006, 13050, 14135, 14136, 14263, 13051, 53007, 53099, 12082, 12080, 14301, 53009, 53168, 53080, 53081, 53082', 0)
  
   --nErr = hg_drawHUDAd(14263, 0)		-- Enabled Ads Rotation
   
   DrawHudImages()

   --hg_closeSplashWindow()

   if(InitSudukoGame() == HG_ERR_NONE) then
   	g_nStartScreen = 1
		--LogMetrics("Launching Sudoku Game", 1)
      	DrawStartScreen(g_nStartScreen)
  	return HG_ERR_NONE
   else
        --LogMetrics("Sudoku Game Launch Failed", 1)
        ExitGame()
        return HG_ERR_FAILED
   end

  return HG_ERR_FAILED
end


-------------------------------------------------------------------------
-- This function is called just before unloading the lua script and is
-- a chance for the Lua script to do any clean up in Mercury code.
-- It does not need to clean up the Lua script as that is garbage collected
-- and is wiped out after the unload.
-------------------------------------------------------------------------

function lua_onUnload()
    debugPrint('lua_onUnload invoked')

    --LogMetrics("Quiting Sudoku Game", 0)
    
    nErr = App.Cleanup()

  return 0
end


-------------------------------------------------------------------------
-- This function is called by Mercury when ever an event occurs like
-- EAS event, DVR conflict etc.
-------------------------------------------------------------------------

function lua_onEvent(nEventId, nParam1, strParam2)
    debugPrint('lua_onEvent invoked EventId:' .. tostring(nEventId))
    debugPrint('   Argument 1:' .. tostring(nParam1))
    debugPrint('   Argument 2:' .. strParam2)
  
  if( nEventId == LLSM_HIDEWINDOW ) then
    debugPrint('Event to Hide Window called')
    nErr = Graphics.SetWindowVisibility(g_bkgGraphicsPlane, 0)
    nErr = Graphics.SetWindowVisibility(g_wndNumbersPlane, 0)
    nErr = Graphics.SetWindowVisibility(g_wndTextArea, 0)
    nErr = Graphics.SetWindowVisibility(g_wndOrangeSquare, 0)
  end
  
  
  if( nEventId == LLSM_SHOWWINDOW ) then
    debugPrint('Event to Show Window called')
    nErr = Graphics.SetWindowVisibility(g_bkgGraphicsPlane, 1)
    nErr = Graphics.SetWindowVisibility(g_wndNumbersPlane, 1)
    nErr = Graphics.SetWindowVisibility(g_wndTextArea, 1)
    if g_nCurScreen == 2 then       -- Start screen
      nErr = Graphics.SetWindowVisibility(g_wndOrangeSquare, 1)
    else
      nErr = Graphics.SetWindowVisibility(g_wndOrangeSquare, 0)
    end
    
  end

  nErr = Graphics.UpdateDisplay()

  return 0
 end


-------------------------------------------------------------------------
-- This function is called by Mercury when ever an event occurs like
-- EAS event, DVR conflict etc.
-------------------------------------------------------------------------

function lua_onTimerEvent(nTimerId, nParam1, strParam2)
--    debugPrint('lua_onTimer invoked TimerId:' .. tostring(nTimerId))
--    debugPrint('   Argument 1:' .. tostring(nParam1))
--    debugPrint('   Argument 2:' .. strParam2)
    
    g_ElapsedTime = g_ElapsedTime + 1
--    strTime = hg_getTime()
--    debugPrint('*** Actual Time:' .. strTime)
    debugPrint('*** Elapsed Time:' .. tostring(g_ElapsedTime))
    
    -- Show the Timer
  -- Show the Pause Image in the text window
--    nErr = Graphics.ClearWindow(g_wndTextArea)
--    nErr = Graphics.DrawImageByID(g_wTextAttributeID, g_wndTextArea, PAUSE_IMAGE, 10, 10, 0) 
--    WriteString("Elapsed Time:", 20, 80)
--    WriteString(strTime, 20, 60)
--    WriteString(tostring(g_ElapsedTime), 20, 80)
  
--    nErr = Graphics.UpdateDisplay()
    
    return 0
end

  
-------------------------------------------------------------------------
-- This function is called by Mercury to pass the user input to the lua
-- app.
-------------------------------------------------------------------------

function lua_onKey(nKeyCode, nKeyType, nKeyState)
    debugPrint('lua_onKey invoked for Screen=' .. tostring(g_nCurScreen))
    debugPrint('   Argument 1:' .. tostring(nKeyCode))
    debugPrint('   Argument 2:' .. tostring(nKeyType))
    debugPrint('   Argument 3:' .. tostring(nKeyState))
  
    
  if nKeyCode == 19 then           -- Last Key
  	ExitGame()
  end

  if g_nCurScreen == 1 then       -- Start screen
    ProcessKeyGameStart(nKeyCode)  
    
  elseif g_nCurScreen == 2 then     -- Game screen
    if g_exitListBox == 0 then 
      ProcessKeyGamePlay(nKeyCode)
    else
      --ProcessKeyListBox(nKeyCode)
    end  
  end  

  return 0

end


----------------------------------------------------------------------------
-- Process keys for the list box
----------------------------------------------------------------------------

function ProcessKeyListBox(nKeyCode)
  debugPrint('ProcessKeyListBox :' .. tostring(nKeyCode))
  nErr = Graphics.UpdateDisplay()
end


----------------------------------------------------------------------------
-- Suduko Game Functions
----------------------------------------------------------------------------

function ProcessKeyGameStart(nKeyCode)
  debugPrint('ProcessKeyGameStart :' .. tostring(nKeyCode))

  if nKeyCode == 31 and g_instructionOn == 0 then 	-- Pause Key
    if  g_gridLoaded == 1 then
	FillSudukoGrid()
    end
  
  elseif nKeyCode == 17 then        -- OK
    if g_nStartScreen == 1 then
      DrawSudukoGrid(1)

    elseif g_nStartScreen == 2 then
      DrawSudukoGrid(2)

    elseif g_nStartScreen == 3 then
      DrawSudukoGrid(3)

    elseif g_nStartScreen == 4 then
      if g_instructionOn == 1 then
        DrawStartScreen(g_nStartScreen)
        g_instructionOn = 0
      else 
        DrawInstructionScreen()
        g_instructionOn = 1
      end
    elseif g_nStartScreen == 5 then
      -- Print a Message
      Err = Graphics.ClearWindow(g_wndTextArea) 
      ExitGame()
    end

  elseif nKeyCode == 52 and g_instructionOn == 0 then        -- Up Arrow
    if g_nStartScreen == 1 then
      g_nStartScreen = 5 
    else
      g_nStartScreen = g_nStartScreen - 1 
    end
    DrawStartScreen(g_nStartScreen)

  elseif nKeyCode == 53 and g_instructionOn == 0 then        -- Dn Arrow
    if g_nStartScreen == 5 then
      g_nStartScreen = 1 
    else
      g_nStartScreen = g_nStartScreen + 1 
    end
    DrawStartScreen(g_nStartScreen)
  end

  nErr = Graphics.UpdateDisplay()
end


function ExitGame()
  debugPrint('Exiting the game .... :')
  
  --hg_postMessage(MESSAGE_STOP, GAME_APPID, 0)

end

----------------------------------------------------------------------------
-- Suduko Game Functions
----------------------------------------------------------------------------

function ProcessKeyGamePlay(nKeyCode)
  debugPrint('ProcessKeyGamePlay :' .. tostring(nKeyCode))

  if(g_bConflictFlag == 1) then   -- Clean up and redo the grid
    FillSudukoGrid()
    g_bConflictFlag = 0
  end
  
  -- if Pause key is pressed then take user to the start page
  if nKeyCode == 31 then        -- Pause Key
    g_IsGameOn = 1
    g_nStartScreen = 1
    DrawStartScreen(g_nStartScreen)  
    return 0
  end

  if nKeyCode == 52 then        -- Up Arrow
    MoveUp()

  elseif nKeyCode == 53 then        -- Dn Arrow
    MoveDown()

  elseif nKeyCode == 54 then        -- Left
    MoveLeft()

  elseif nKeyCode == 55 then        -- Right
    MoveRight()

  elseif nKeyCode >= 1 and nKeyCode <= 9 then   -- Number keys
    if(g_gridSystem[g_stCurPos.row][g_stCurPos.col] == 0) then
      if(g_gridUser[g_stCurPos.row][g_stCurPos.col] == nKeyCode) then
        g_gridUser[g_stCurPos.row][g_stCurPos.col] = 0
        FillSudukoGrid()
      else
        g_gridUser[g_stCurPos.row][g_stCurPos.col] = nKeyCode
        WriteUserNumber(g_stCurPos.row, g_stCurPos.col, nKeyCode)
        CheckUserEntry(g_stCurPos.row, g_stCurPos.col, nKeyCode)
         
      
        -- Check if the grid is complete
        if (g_bConflictFlag == 0) then
          CheckSudukoGrid()
        end
      end
      
    end
  end

  DrawSelection(g_stCurPos.row, g_stCurPos.col)
  nErr = Graphics.UpdateDisplay()
 
end


function MoveUp()
  if g_stCurPos.row == 1 then
    g_stCurPos.row = 9 
  else
    g_stCurPos.row = g_stCurPos.row - 1 
  end
  
  if(g_gridSystem[g_stCurPos.row][g_stCurPos.col] == 0) then
    return
  else
    return MoveUp()
  end
end

function MoveDown()
  if g_stCurPos.row == 9 then
    g_stCurPos.row = 1 
  else
    g_stCurPos.row = g_stCurPos.row + 1 
  end
  
  if(g_gridSystem[g_stCurPos.row][g_stCurPos.col] == 0) then
    return
  else
    return MoveDown()
  end
end

function MoveLeft()
  if g_stCurPos.col == 1 then
    g_stCurPos.col = 9 
  else
    g_stCurPos.col = g_stCurPos.col - 1 
  end
  
  if(g_gridSystem[g_stCurPos.row][g_stCurPos.col] == 0) then
    return
  else
    return MoveLeft()
  end
end

function MoveRight()
  if g_stCurPos.col == 9 then
    g_stCurPos.col = 1 
  else
    g_stCurPos.col = g_stCurPos.col + 1 
  end
  
  if(g_gridSystem[g_stCurPos.row][g_stCurPos.col] == 0) then
    return
  else
    return MoveRight()
  end
end


----------------------------------------------------------------------------
-- Suduko Game Functions
----------------------------------------------------------------------------
function InitSudukoGame()

  nErr,g_wbkgAttributes = Graphics.CreateWindowAttrib()
  nErr,g_bkgGraphicsPlane = Graphics.CreateWindow(4, g_wbkgAttributes, 0, GAME_XPOS, GAME_YPOS, GAME_WIDTH, GAME_HEIGHT) 
  debugPrint('   g_bkgGraphicsPlane WindowID:' .. tostring(g_bkgGraphicsPlane))
  if( g_bkgGraphicsPlane < 0 ) then
    return HG_ERR_FAILED
  end

  -- Selection Square
  nErr,g_wselAttributes = Graphics.CreateWindowAttrib()
  nErr,g_wndOrangeSquare = Graphics.CreateWindow(3, g_wselAttributes, 0, GAME_XPOS+GRID_X_OFFSET, GAME_YPOS+GRID_Y_OFFSET, SQUARE_WIDTH, SQUARE_HEIGHT)

  debugPrint('   g_wndOrangeSquare WindowID:' .. tostring(g_wndOrangeSquare))
  if( g_wndOrangeSquare < 0 ) then
    return HG_ERR_FAILED
  end

  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_wndOrangeSquare, YELLOW_SQUARE, 0, 0, 0) 
  nErr = Graphics.SetWindowVisibility(g_wndOrangeSquare, 0)

  -- Numbers plane
  nErr,g_wNumbersAttributes = Graphics.CreateWindowAttrib()
  nErr,g_wndNumbersPlane = Graphics.CreateWindow(2, g_wNumbersAttributes, 0, GAME_XPOS, GAME_YPOS, GAME_WIDTH, GAME_HEIGHT) 
  debugPrint('   g_wndNumbersPlane WindowID:' .. tostring(g_wndNumbersPlane))
  if( g_wndNumbersPlane < 0 ) then
    return HG_ERR_FAILED
  end

  -- Get available fonts
  --nErr = hg_getAvailableFonts()

-- Text Area 
  nErr,g_wTextAttributeID = Graphics.CreateWindowAttrib()
  nErr,g_wndTextArea = Graphics.CreateWindow(3, g_wTextAttributeID, 0, TEXT_X_OFFSET, TEXT_Y_OFFSET, TEXT_WIDTH, TEXT_HEIGHT)
  if( g_wndTextArea < 0 ) then
    return HG_ERR_FAILED
  end
  
 
 -- Create a timer for the game 1000 milliseconds
--  g_GameTimerID = hg_createTimer(2, 100, 0) 
--  debugPrint('Return from createTimer...' .. tostring(g_GameTimerID))

  
-- Intializes a 9 x 9 matrix to store the suduko grid
  for i=1,9 do
    g_gridSystem[i] = {}
    g_gridUser[i] = {}
    
    for j=1,9 do
      g_gridSystem[i][j] = 0
      g_gridUser[i][j] =   0
    end
  end
  
  g_gridLoaded = 0

  return HG_ERR_NONE
end


function DrawInstructionScreen()
--	nErr = Graphics.ClearWindow(g_bkgGraphicsPlane) 
	nErr = Graphics.ClearWindow(g_wndNumbersPlane) 
	nErr = Graphics.DrawRect(g_wndNumbersPlane, 0, 0, GAME_WIDTH, GAME_HEIGHT, '0xFF000000')

	nErr = Graphics.ClearWindow(g_wndTextArea)
	WriteString("Press 'OK' Key", 30, 10)
	WriteString("to return to Menu", 30, 30)
	nErr = Graphics.DrawString( g_wNumbersAttributes, g_wndNumbersPlane,  10, 40,GAME_WIDTH-10, 30, '0xFFFFFFFF','0x00000000',  3, 0,
		     '1. Use arrows to move the Yellow highlight to square')
	nErr = Graphics.DrawString(0, g_wNumbersAttributes, g_wndNumbersPlane,  10, 60,GAME_WIDTH-10, 30, '0xFFFFFFFF','0x00000000',  3, 0,
		     '    you would like to select')
	nErr = Graphics.DrawString(g_wNumbersAttributes, g_wndNumbersPlane,  10, 80, GAME_WIDTH-10, 30,'0xFFFFFFFF','0x00000000',  3, 0,
			     '2. Press a number key, "1" - "9", to put it down on')
	nErr = Graphics.DrawString( g_wNumbersAttributes, g_wndNumbersPlane,  10, 100,GAME_WIDTH-10, 30,'0xFFFFFFFF', '0x00000000',  3, 0,
			     '    the board')
	nErr = Graphics.DrawString( g_wNumbersAttributes, g_wndNumbersPlane,  10, 120,GAME_WIDTH-10, 30,'0xFFFFFFFF', '0x00000000', 3, 0,
			     '3. Press the number key again to remove it from')
	nErr = Graphics.DrawString( g_wNumbersAttributes, g_wndNumbersPlane,  10, 140, GAME_WIDTH-10, 30,'0xFFFFFFFF', '0x00000000', 3, 0,
			     '    the board')
	nErr = Graphics.DrawString(g_wNumbersAttributes, g_wndNumbersPlane,  100, 240, 150, 30,'0xFFFFFFFF', '0x00000000', 3, 0,
			     'Press "OK" to go back')
end


function DrawStartScreen(nSel)

  
  nErr = Graphics.ClearWindow(g_wndNumbersPlane) 
  nErr = Graphics.SetWindowVisibility(g_wndOrangeSquare, 0)

  -- Load the background image using the bitmap Id
  if(g_nCurScreen ~= 1) then
    nErr = Graphics.ClearWindow(g_bkgGraphicsPlane) 
    nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 14245, 0, 0, 0) 
    nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 14246, 180, 0, 0) 
    nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 14247, 0, 135, 0) 
    nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 14248, 180, 135, 0) 
  end

  if(nSel == 1) then
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14235, OPTIONS_X_OFFSET, OPTIONS_Y1_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14242, OPTIONS_X_OFFSET, OPTIONS_Y2_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14234, OPTIONS_X_OFFSET, OPTIONS_Y3_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14240, OPTIONS_X_OFFSET, OPTIONS_Y4_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14238, OPTIONS_X_OFFSET, OPTIONS_Y5_OFFSET, 0) 
  elseif (nSel == 2) then
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14236, OPTIONS_X_OFFSET, OPTIONS_Y1_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14241, OPTIONS_X_OFFSET, OPTIONS_Y2_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14234, OPTIONS_X_OFFSET, OPTIONS_Y3_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14240, OPTIONS_X_OFFSET, OPTIONS_Y4_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14238, OPTIONS_X_OFFSET, OPTIONS_Y5_OFFSET, 0) 
  elseif(nSel == 3) then
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14236, OPTIONS_X_OFFSET, OPTIONS_Y1_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14242, OPTIONS_X_OFFSET, OPTIONS_Y2_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14233, OPTIONS_X_OFFSET, OPTIONS_Y3_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14240, OPTIONS_X_OFFSET, OPTIONS_Y4_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14238, OPTIONS_X_OFFSET, OPTIONS_Y5_OFFSET, 0) 
  elseif (nSel == 4) then
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14236, OPTIONS_X_OFFSET, OPTIONS_Y1_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14242, OPTIONS_X_OFFSET, OPTIONS_Y2_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14234, OPTIONS_X_OFFSET, OPTIONS_Y3_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14239, OPTIONS_X_OFFSET, OPTIONS_Y4_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14238, OPTIONS_X_OFFSET, OPTIONS_Y5_OFFSET, 0) 
  elseif(nSel == 5) then
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14236, OPTIONS_X_OFFSET, OPTIONS_Y1_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14242, OPTIONS_X_OFFSET, OPTIONS_Y2_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14234, OPTIONS_X_OFFSET, OPTIONS_Y3_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14240, OPTIONS_X_OFFSET, OPTIONS_Y4_OFFSET, 0) 
    nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, 14237, OPTIONS_X_OFFSET, OPTIONS_Y5_OFFSET, 0) 
  end  
  
  nErr = Graphics.ClearWindow(g_wndTextArea) 
  if g_IsGameOn == 1 then
    WriteString("Press 'Pause' Key", 30, 10)
    WriteString("to return to game", 30, 30)
  elseif nSel == 5 then
    WriteString("Exit to Menu", 10, 10)
  else
    WriteString("Please Enjoy a game of", 10, 10)
    WriteString("Sudoku", 60, 30)
  end
  
  g_nCurScreen = 1

  nErr = Graphics.UpdateDisplay()
end


function DrawSudukoGrid(nLevel)

  g_nCurScreen = 2
  
  -- Clear previous values
  for i=1,9 do
    for j=1,9 do
      g_gridSystem[i][j] = 0
      g_gridUser[i][j] =   0
    end
  end
  
  LoadSudukoGame(nLevel)

  FillSudukoGrid()
  
  DrawSelection(g_stCurPos.row, g_stCurPos.col)
  
  -- Start the Timer
  g_ElapsedTime = 0;

  nErr = Graphics.UpdateDisplay()
end


function LoadSudukoGame(nLevel)
  debugPrint('LoadSudukoGame function called. Level:' .. tostring(nLevel))
  
   -- Use the random number to get the grid
   if ( nLevel == 1) then
     nGrid = 40
     --hg_getRandomNumber(1, 50)
   elseif (nLevel == 2) then
     nGrid = 55
     
     --hg_getRandomNumber(51, 100)
   elseif (nLevel == 3) then
     nGrid = 140
     --hg_getRandomNumber(101, 150)
   else
     nGrid = 1
   end
   
  debugPrint('Grid Number Selected:' .. tostring(nGrid))
     
   -- grid[nGrid]
  for i=1,9 do
      row=grid[nGrid][i]
      for j=1,9 do
          value = string.byte(row, j) - string.byte("0")
          if (value >= 1 and value <= 9) then
            g_gridSystem[i][j] = value
          end
      end
  end
  
  g_gridLoaded = 1
  g_IsGameOn = 0

  -- Set the location for the selection
  g_stCurPos.row = 1
  g_stCurPos.col = 1
 
   if(g_gridSystem[g_stCurPos.row][g_stCurPos.col] == 0) then
     return
   else
     return MoveRight()
   end
   
end


function FillSudukoGrid()
  
  g_nCurScreen = 2

  nErr = Graphics.ClearWindow(g_bkgGraphicsPlane) 
  nErr = Graphics.ClearWindow(g_wndNumbersPlane) 

    -- Load the background image using the bitmap Id
  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 53219, 0, 0, 0) 
  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 53216, 180, 0, 0) 
  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 53217, 0, 135, 0) 
  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, 53218, 180, 135, 0) 

  nErr = Graphics.SetWindowVisibility(g_wndOrangeSquare, 1)


-- Draw the grid
  for i=1,9 do
      for j=1,9 do

          SystemValue = g_gridSystem[i][j]
          if (SystemValue >= 1 and SystemValue <= 9) then
              WriteSystemNumber(i, j, SystemValue)
          end

          UserValue = g_gridUser[i][j]
          if (UserValue >= 1 and UserValue <= 9) then
              WriteUserNumber(i, j, UserValue)
          end
      end
  end
  
  -- Show the Pause Image in the text window
  nErr = Graphics.ClearWindow(g_wndTextArea)
  nErr = Graphics.DrawImageByID(g_wTextAttributeID, g_wndTextArea, PAUSE_IMAGE, 10, 10, 0) 
        
end


function DrawSelection(row, col)
  debugPrint('DrawSelection :')

  xpos = GAME_XPOS+GRID_X_OFFSET + (col-1)*28
  ypos = GAME_YPOS+GRID_Y_OFFSET + (row-1)*28
  
  nErr = Graphics.SetWindowPosition(g_wndOrangeSquare, xpos, ypos) 
end


function WriteSystemNumber(row, col, number)

  xpos = GRID_X_OFFSET+(col-1)*28
  ypos = GRID_Y_OFFSET+(row-1)*28
  
  BitmapId = 14220 + number
  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, GREEN_SQUARE, xpos, ypos, 0) 
  nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, BitmapId, xpos, ypos, 0)
end


function WriteUserNumber(row, col, number)

  xpos = GRID_X_OFFSET+(col-1)*28
  ypos = GRID_Y_OFFSET+(row-1)*28
  
  BitmapId = 14220 + number
  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, BLUE_SQUARE, xpos, ypos, 0) 
  nErr = Graphics.DrawImageByID(g_wNumbersAttributes, g_wndNumbersPlane, BitmapId, xpos, ypos, 0)
  
end

function DrawBox(row, col, BitmapId)

  xpos = GRID_X_OFFSET+(col-1)*28
  ypos = GRID_Y_OFFSET+(row-1)*28
  
  nErr = Graphics.DrawImageByID(g_wbkgAttributes, g_bkgGraphicsPlane, BitmapId, xpos, ypos, 0) 
end



function CheckUserEntry(row, col, number)
  debugPrint('CheckUserEntry :' .. tostring(number))
      
  -- Check the row first
--  debugPrint('Checking row :' .. tostring(row))
  for i=1,9 do
    if (g_gridSystem[row][i] == number) then
      FlagError(row, col, 1)
      break;
    end
    
    if (g_gridUser[row][i] == number and i ~= col) then
      FlagError(row, col, 1)
      break;
    end
  end   

  -- Check the col next
--  debugPrint('Checking colume :' .. tostring(col))
  for j=1,9 do
    if (g_gridSystem[j][col] == number) then
      FlagError(row, col, 2)
      break;
    end
    
    if (g_gridUser[j][col] == number and j ~= row) then
      FlagError(row, col, 2)
      break;
    end
  end  
  
  --- check the box
  if(row <= 3) then
    nRowStart = 1
  elseif (row <= 6) then
    nRowStart = 4
  else
    nRowStart = 7
  end
  
  if(col <= 3) then
    nColStart = 1
  elseif (col <= 6) then
    nColStart = 4
  else
    nColStart = 7
  end

--  debugPrint('Checking Box nRowStart:' .. tostring(nRowStart))
--  debugPrint('Checking Box nColStart:' .. tostring(nColStart))

  for i=nRowStart,nRowStart+2 do
    for j=nColStart,nColStart+2 do
      if (g_gridSystem[i][j] == number) then
        FlagError(nRowStart, nColStart, 3)
        return;
      end
    
      if (g_gridUser[i][j] == number and i ~= row and j ~= col) then
        FlagError(nRowStart, nColStart, 3)
        return;
      end
    end 
  end
  
end


function CheckSudukoGrid()

  debugPrint('CheckSudukoGrid is called')

  -- Only check if all the user data has been specified
    for i=1,9 do
        for j=1,9 do
            SystemValue = g_gridSystem[i][j]
            if (SystemValue == 0) then
                if(g_gridUser[i][j] == 0) then
                  return
                end
            end
        end
    end

  debugPrint('All sqaures have been filled now verifying the grid')

  -- The grid has been fully filled now verify all the rows and colums
    for i=1,9 do
        for j=1,9 do
            SystemValue = g_gridSystem[i][j]
            if (SystemValue == 0) then
                CheckUserEntry(i, j, g_gridUser[i][j])
            end
        end
    end

  debugPrint('Checked the entire Grid g_bConflictFlag=' .. tostring(g_bConflictFlag))

  if (g_bConflictFlag == 0) then
    WriteString("Congratulations !!", 40, 50)
    --nErr = hg_createListBox(150, 140, " , Try Again, Exit to Menu, , ")
    g_exitListBox = 2
  else
    WriteString("Sorry, Grid is not complete !!", 10, 50)
    WriteString("Try Again and good luck.", 10, 90)
  end
  
end



function FlagError(row, col, type)

  debugPrint('FlagError :' .. tostring(type))

  g_bConflictFlag = 1
  if(type == 1) then        -- row error
      for i=1,9 do
          DrawBox(row, i, ORANGE_SQUARE)
       end
  elseif(type == 2) then        -- col error
      for i=1,9 do
          DrawBox(i, col, ORANGE_SQUARE)
       end
  elseif(type == 3) then        -- col error
      for i=row,row+2 do
        for j = col, col+2 do
          DrawBox(i, j, ORANGE_SQUARE)
        end
      end
  end
end


function WriteString(strText, xpos, ypos)

  nErr = Graphics.DrawString( g_wTextAttributeID, g_wndTextArea, xpos, ypos,150, 30, '0xFFFFFFFF', '0x00000000',  3,0, strText)

end

----------------------------------------------------------------------------
-- Utility functions
----------------------------------------------------------------------------

--dofile("Util.lua")





-- Global variable
g_nDebug = 1
g_nLogMetrics = 1
g_strLastError = ''


function debugPrint(s)
    if g_nDebug == 1 then
    	Util.DebugPrint(s)
    end 
end


function LogMetrics(strMsg, nType)

  if nType == 1 then
    szMetrics = "act=launch;"
  else
    szMetrics = "act=quit;"
  end
  
  --strTime = hg_getTime()

  szMetrics = szMetrics .. "gameID=SUDOKU;gameType=LUA;genre=PUZZLE;rating=PG;Time="
  szMetrics = szMetrics .. strTime
  szMetrics = szMetrics .. ";message="
  szMetrics = szMetrics .. strMsg


    if g_nLogMetrics == 1 then
--    	nErr = hg_logData( 0, "None", 2, strData, "Sudoku", strFuncName, 0, strData)

	--nErr = hg_logAddMetrics(szMetrics)
        debugPrint('hg_logAddMetrics called Return Value =' .. szMetrics)
    end 
end